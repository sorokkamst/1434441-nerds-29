const popup=document.querySelector(".modal"),link=document.querySelector(".location-information-button a"),closePopup=document.querySelector(".modal-close"),userName=document.querySelector("[name=name]"),userEmail=document.querySelector("[name=email]"),userText=document.querySelector("[name=text]"),form=popup.querySelector("form"),storageName=localStorage.getItem("userNameValue"),storageEmail=localStorage.getItem("userEmailValue");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),form.classList.remove("modal-error"),userEmail.classList.remove("input-error"),userText.classList.remove("input-error"),userName.classList.remove("input-error"),userName.focus(),storageName&&storageEmail?(userName.value=storageName,userEmail.value=storageEmail,userText.focus()):storageName&&(userName.value=storageName,userEmail.focus())}),closePopup.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show")}),form.addEventListener("submit",function(e){userName.value||(e.preventDefault(),userName.classList.add("input-error"),form.classList.add("modal-error")),userEmail.value||(e.preventDefault(),userEmail.classList.add("input-error"),form.classList.add("modal-error")),userText.value?(localStorage.setItem("userNameValue",userName.value),localStorage.setItem("userEmailValue",userEmail.value)):(e.preventDefault(),userText.classList.add("input-error"),form.classList.add("modal-error"))}),userName.addEventListener("click",function(){userName.classList.remove("input-error")}),userEmail.addEventListener("click",function(){userEmail.classList.remove("input-error")}),userText.addEventListener("click",function(){userText.classList.remove("input-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(e.preventDefault(),popup.classList.remove("modal-show"))});